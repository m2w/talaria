{"version":3,"file":"talaria.min.js.map","sources":["talaria.min.js"],"names":["talaria","$","async","setPermalinkRegex","CONFIG","PERMALINK_STYLE","USE_GISTS","Error","extrapolatePathFromPermalink","permalinkUrl","replace","COMMENTABLE_CONTENT_PATH_PREFIX","CONTENT_SUFFIX","shortenCommitId","commitId","substr","localStorageSupported","sessionStorage","setItem","removeItem","e","cacheCommentData","key","data","LOCAL_STORAGE_SUPPORTED","JSON","stringify","timestamp","Date","getTime","commentData","byAscendingDate","commentA","commentB","updated_at","timeDifference","current","previous","maybePluralize","elapsed","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","justNowLim","t","Math","round","isStale","cachedCommentData","CACHE_TIMEOUT","maybeGetCachedVersion","url","cache","getItem","parse","undefined","latest","commits","length","sort","a","b","committer","date","ensureAsyncAvailable","updateConfig","config","extend","DEFAULTS","GISTS_API_ENDPOINT","GITHUB_USERNAME","COMMIT_API_ENDPOINT","REPOSITORY_NAME","REPO_COMMIT_URL_ROOT","GIST_URL_ROOT","wrapperTemplate","id","ccount","commentsHidden","commentTemplate","comment","headerLeft","now","commit_id","html_url","user","avatar_url","login","body_html","body","grabCommitsForFile","path","callback","getJSON","then","error","grabCommentsForCommit","acc","commit","comment_count","sha","comments","concat","aggregateComments","reduce","err","grabCommitComments","permalinkElement","cb","href","waterfall","cacheData","displayCommentsForCommits","commitsAndComments","wrapper","article","parents","append","find","text","removeClass","addClass","lastCommit","latestCommitUrl","location","pathname","PAGINATION_SCHEME","test","commentHtml","map","prepend","addClickHandlers","retrieveCommitBasedComments","eachLimit","PERMALINK_IDENTIFIER","retrieveGistBasedComments","gist","mappings","relevant","GIST_MAPPINGS","gistMappings","entry","hasOwnProperty","permalink","push","linkobj","addGistComments","fail","each","this","retrieveGistComments","mapping","dfd","Deferred","resolve","reject","promise","handleGistMapping","done","displayCommentsForGist","showErrorForGist","console","warn","gistUrl","status","click","preventDefault","fadeIn","initialize","document","ready","ajaxSetup","accepts","json","init","gists"],"mappings":"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"}