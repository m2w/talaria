{"version":3,"file":"talaria.min.js.map","sources":["talaria.min.js"],"names":["talaria","$","async","setPermalinkRegex","CONFIG","PERMALINK_STYLE","USE_GISTS","Error","extrapolatePathFromPermalink","permalinkUrl","replace","COMMENTABLE_CONTENT_PATH_PREFIX","CONTENT_SUFFIX","shortenCommitId","commitId","substr","localStorageSupported","sessionStorage","setItem","removeItem","e","cacheCommentData","key","data","LOCAL_STORAGE_SUPPORTED","JSON","stringify","timestamp","Date","getTime","commentData","byAscendingDate","commentA","commentB","updated_at","timeDifference","current","previous","maybePluralize","elapsed","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","justNowLim","t","Math","round","isStale","cachedCommentData","CACHE_TIMEOUT","maybeGetCachedVersion","url","cache","getItem","parse","undefined","latest","commits","length","sort","a","b","committer","date","pruneCommitData","map","c","sha","ensureAsyncAvailable","updateConfig","config","extend","DEFAULTS","GISTS_API_ENDPOINT","GITHUB_USERNAME","COMMIT_API_ENDPOINT","REPOSITORY_NAME","REPO_COMMIT_URL_ROOT","GIST_URL_ROOT","wrapperTemplate","id","ccount","commentsHidden","commentTemplate","comment","headerLeft","now","commit_id","html_url","user","avatar_url","login","body_html","body","grabCommitsForFile","path","callback","getJSON","then","error","grabCommentsForCommit","acc","commit","comment_count","comments","concat","aggregateComments","reduce","err","grabCommitComments","permalinkElement","cb","href","waterfall","cacheData","displayCommentsForCommits","commitsAndComments","wrapper","article","parents","append","find","text","removeClass","addClass","lastCommit","latestCommitUrl","commentHtml","location","pathname","PAGINATION_SCHEME","test","prepend","addClickHandlers","retrieveCommitBasedComments","eachLimit","PERMALINK_IDENTIFIER","retrieveGistBasedComments","gist","mappings","relevant","GIST_MAPPINGS","gistMappings","entry","hasOwnProperty","permalink","push","linkobj","addGistComments","fail","each","this","retrieveGistComments","mapping","dfd","Deferred","resolve","reject","promise","handleGistMapping","done","displayCommentsForGist","showErrorForGist","console","warn","gistUrl","status","hasComments","click","preventDefault","fadeIn","initialize","document","ready","ajaxSetup","accepts","json","init","gists"],"mappings":"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"}