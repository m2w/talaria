{"version":3,"file":"talaria.min.js.map","sources":["talaria.min.js"],"names":["talaria","$","extrapolatePathFromPermalink","permalink_url","replace","CONFIG","COMMENTABLE_CONTENT_PATH_PREFIX","CONTENT_SUFFIX","shortenCommitId","commit_id","substr","localStorageSupported","sessionStorage","setItem","removeItem","e","byAscendingDate","commentA","commentB","Date","updated_at","timeDifference","current","previous","maybePluralize","elapsed","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","justNowLim","t","Math","round","isStale","cached_comment_data","getTime","timestamp","CACHE_TIMEOUT","maybeGetCachedVersion","url","cache","getItem","JSON","parse","comment_data","undefined","retrieveCommentsForCommit","commit","path","dfd","Deferred","getJSON","COMMIT_API_ENDPOINT","sha","then","comments","resolve","commits","error","reject","status","combineDataForFile","deferred_comments","map","when","apply","done","root","data","Array","prototype","slice","call","arguments","length","reduce","acc","elem","concat","getDataForPathWithDeferred","dataForPath","retrieveDataForPermalink","LOCAL_STORAGE_SUPPORTED","generateHtmlForComments","comment","now","template_clone","clone","header","find","replaceWith","user","avatar_url","text","login","attr","html_url","html","body_html","id","show","updateCommentMeta","permalink_element","latest_commit","latest_commit_url","c","wrapper","parents","sort","a","b","author","date","REPO_COMMIT_URL_ROOT","location","pathname","PAGINATION_SCHEME","test","click","preventDefault","fadeIn","this","hide","get","href","DEFAULTS","PERMALINK_IDENTIFIER","initialize","config","extend","GITHUB_USERNAME","REPOSITORY_NAME","document","ready","ajaxSetup","accepts","json","permalink","isEmptyObject","parent","commentHtml","prepend","stringify","init"],"mappings":"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"}