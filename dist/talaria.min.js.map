{"version":3,"file":"talaria.min.js.map","sources":["talaria.min.js"],"names":["talaria","$","async","setPermalinkRegex","CONFIG","PERMALINK_STYLE","USE_GISTS","Error","extrapolatePathFromPermalink","permalinkUrl","replace","COMMENTABLE_CONTENT_PATH_PREFIX","CONTENT_SUFFIX","shortenCommitId","commitId","substr","localStorageSupported","sessionStorage","setItem","removeItem","e","cacheCommentData","key","data","LOCAL_STORAGE_SUPPORTED","JSON","stringify","timestamp","Date","getTime","commentData","timeDifference","current","previous","maybePluralize","elapsed","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","justNowLim","t","Math","round","isStale","cachedCommentData","CACHE_TIMEOUT","maybeGetCachedVersion","url","cache","getItem","parse","undefined","latest","commits","length","sort","a","b","committer","date","ensureAsyncAvailable","updateConfig","config","extend","DEFAULTS","GISTS_API_ENDPOINT","GITHUB_USERNAME","COMMIT_API_ENDPOINT","REPOSITORY_NAME","REPO_COMMIT_URL_ROOT","GIST_URL_ROOT","wrapperTemplate","id","ccount","commentsHidden","commentTemplate","comment","headerLeft","now","commit_id","html_url","user","avatar_url","login","updated_at","body_html","body","grabCommitsForFile","path","callback","getJSON","then","error","grabCommentsForCommit","commit","comment_count","sha","comments","aggregateComments","mapSeries","err","concat","apply","grabCommitComments","permalinkElement","cb","href","waterfall","lastCommit","latestCommitUrl","wrapper","location","pathname","PAGINATION_SCHEME","test","commentHtml","map","parents","append","prepend","addClickHandlers","retrieveCommitBasedComments","eachLimit","PERMALINK_IDENTIFIER","retrieveGistBasedComments","gist","mappings","relevant","GIST_MAPPINGS","gistMappings","entry","hasOwnProperty","permalink","push","linkobj","addGistComments","fail","each","this","text","removeClass","addClass","retrieveGistComments","mapping","dfd","Deferred","resolve","reject","promise","handleGistMapping","done","displayCommentsForGist","showErrorForGist","console","warn","gistUrl","status","click","preventDefault","fadeIn","initialize","document","ready","ajaxSetup","accepts","json","init","gists"],"mappings":"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"}